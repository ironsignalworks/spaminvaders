<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Spam Invaders</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
:root{
  /* Win98 palette */
  --win98-bg:        #00808000; /* transparent bg behind window (keep page bg separately) */
  --desk:            #008080;   /* desktop teal (if you want) */
  --win-face:        #c0c0c0;   /* 3D face */
  --win-light:       #ffffff;   /* 3D light */
  --win-hilite:      #dfdfdf;   /* 3D highlight */
  --win-shadow:      #808080;   /* 3D shadow */
  --win-dark:        #000000;   /* 3D dark shadow */
  --title-blue:      #000080;   /* active titlebar */
  --title-blue-grad: #1084d0;   /* active titlebar gradient */
  --title-text:      #ffffff;
  --text:            #000000;

  /* game accents */
  --accent: #6aa84f;  /* keep subtle green for shield */
  --danger: #d94f6a;
  --gold:   #d2b48c;
}

*{box-sizing:border-box}
html,body{height:100%; overflow:hidden;}
body{
  margin:0;
  display:grid;
  place-items:center;
  background:#008080; /* Win98 desktop teal */
  color:var(--text);
  font-family: "MS Sans Serif", Tahoma, Verdana, sans-serif;
  font-size: 12px;
  letter-spacing: 0;
}

/* ===== Window / Frame ===== */
.frame{
  position:relative;
  width:388px; height:576px; max-width:96vw;
  background:var(--win-face);
  /* 3D outer bevel */
  border: 2px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light),
    inset  2px  2px 0 var(--win-hilite);
  border-radius: 0;
  overflow:hidden;
}

/* Titlebar + Statusbar */
header,footer{
  position:absolute; left:0; right:0; z-index:3; padding:4px 6px; display:flex;
  align-items:center; justify-content:space-between;
  color:var(--title-text);
}
header{
  top:0;
  background: linear-gradient(90deg, var(--title-blue), var(--title-blue-grad));
  border-bottom: 2px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}
footer{
  bottom:0; color:#000;
  background: var(--win-face);
  border-top: 2px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}

/* Header stats (flat gray panels with bevel) */
.headerStats{
  display:flex; gap:6px; width:100%; justify-content:flex-start; align-items:center; flex-wrap:wrap;
}
.hudBlock{
  display:flex; flex-direction:column; gap:2px; min-width:90px; padding:4px 6px;
  background: var(--win-face);
  color:#000;
  border: 1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}
.hudTight{min-width:auto;}
.hudLabel{ font-size:10px; text-transform:uppercase; color:#000; opacity:.7; }
.hudValue{ font-size:12px; font-variant-numeric: tabular-nums; }

/* Gauges look like progress bars */
.gauge{
  position:relative; width:110px; height:12px;
  background: var(--win-face);
  border: 1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}
.gauge i{
  position:absolute; inset:2px;
  background: repeating-linear-gradient(
    90deg, #9ad29a 0 8px, #7fb97f 8px 16px
  );
  transform-origin:left center;
}

/* Lives blocks = little Win98 selection squares */
.lives{ display:flex; gap:4px; }
.life{
  width:12px; height:10px; background:#9ad29a;
  border:1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}
.ghost{ opacity:.3; }

/* Canvas */
canvas{
  position:absolute; top:86px; left:10px; width:368px; height:452px;
  background:#000; image-rendering: pixelated; z-index:1;
  border: 1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}

/* Footer groups */
.footerBar{ width:100%; display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap; }
.statusGroup{ display:flex; align-items:center; gap:8px; }

/* Footer HUD blocks (same bevel but tighter) */
footer .hudBlock{ padding:4px 6px; }
footer .hudLabel{ font-size:10px; text-transform:uppercase; opacity:.8; }

/* Ticker = plain text bar at right */
.ticker{ font-size:11px; color:#000; flex:1; justify-content:flex-end; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
footer .tickerLabel{ font-weight:bold; }
footer .tickerText{ animation:none; }

/* Boss bar = classic progress bar */
.bossbar{
  position:absolute; left:10px; right:10px; top:108px; height:12px; z-index:4; display:none;
  background: var(--win-face);
  border: 1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
}
.bossbar i{
  height:100%;
  background: repeating-linear-gradient(90deg, #e1c16e 0 8px, #caa562 8px 16px);
  transform-origin:left center;
}
.bosslabel{
  position:absolute; top:92px; left:10px; z-index:4;
  font-size:11px; color:#000; text-shadow:none; display:none;
}

/* Overlays = message boxes */
.overlay{
  position:absolute; inset:0; z-index:5; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px;
  background: rgba(192,192,192,.96);
  border: 2px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
  text-transform:none; padding:20px;
}
.overlay h1{
  margin:0; padding:4px 6px; width:100%; text-align:left;
  font-weight:bold; font-size:14px; color:var(--title-text);
  background: linear-gradient(90deg, var(--title-blue), var(--title-blue-grad));
  border: 1px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
  text-transform:uppercase;
}
.overlay p{ margin:0; font-size:12px; color:#000; }

/* Buttons: classic 3D push buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:4px 14px; min-width:84px;
  background: var(--win-face); color:#000; cursor:pointer;
  border: 2px solid var(--win-dark);
  box-shadow:
    inset -1px -1px 0 var(--win-shadow),
    inset  1px  1px 0 var(--win-light);
  text-transform: none; letter-spacing: 0; font-size:12px;
}
.btn:hover{ filter:brightness(1.02); }
.btn:active{
  /* pressed look */
  box-shadow:
    inset  1px  1px 0 var(--win-shadow),
    inset -1px -1px 0 var(--win-light);
}

/* Level label */
#hudLevel{ font-size:12px; }

/* Optional: shrink everything ~10% to help fit narrower browsers */
.frame{
  transform: scale(0.9);
  transform-origin: top center;
}
@media (min-width: 920px){
  .frame{ transform: scale(1); }
}

  
</style>
</head>
<body>
  <div class="frame">
    <header class="hud">
      <div class="headerStats">
        <div class="hudBlock">
          <span class="hudLabel">Score</span>
          <span class="hudValue" id="hudScore">00000</span>
        </div>
        <div class="hudBlock">
          <span class="hudLabel">Hi-Score</span>
          <span class="hudValue" id="hudHigh">00000</span>
        </div>
        <div class="hudBlock">
          <span class="hudLabel">Boss HP</span>
          <span class="hudValue" id="hudBoss">---</span>
        </div>
        <div class="hudBlock hudTight">
          <span class="hudLabel">Folder</span>
          <span class="hudValue" id="hudLevel">LEVEL 01</span>
        </div>
      </div>
    </header>

    <div class="bosslabel" id="bossLabel">BOSS INCOMING</div>
    <div class="bossbar" id="bossBar"><i id="bossFill" style="transform:scaleX(1)"></i></div>

    <canvas id="game" width="357" height="441"></canvas>

    <footer>
      <div class="footerBar">
        <div class="statusGroup">
          <div class="hudBlock hudTight">
            <span class="hudLabel">Shield</span>
            <div class="gauge"><i id="capacityFill" style="transform:scaleX(1)"></i></div>
          </div>
          <div class="hudBlock hudTight">
            <span class="hudLabel">Lives</span>
            <div class="lives" id="hearts"></div>
          </div>
        </div>
        <div class="ticker">
          <span class="tickerLabel">Command</span>
          <span class="tickerText">LEFT/RIGHT MOVE  -  SPACE FIRE  -  PRESS START</span>
        </div>
      </div>
    </footer>

    <!-- Start -->
    <div class="overlay" id="start">
      <h1>[ SPAM INVADERS ]</h1>
      <p>Sector mailbox under attack.<br>Deploy spam filters and defend the archive.</p>
      <button class="btn" id="btnStart">START</button>
    </div>

    <!-- Level Cleared -->
    <div class="overlay" id="cleared" style="display:none">
      <h1>[ INBOX SECURED ]</h1>
      <p>The Prince has been unsubscribed. System rebooting..</p>
      <button class="btn" id="btnNext">NEXT STAGE</button>
    </div>

    <!-- Game Over -->
    <div class="overlay" id="gameover" style="display:none">
      <h1>[ MAILBOX BREACHED ]</h1>
      <p>Spam levels critical. Inbox overload. Systems throttled.</p>
      <button class="btn" id="btnAgain">TRY AGAIN</button>
    </div>

    <!-- Boss Intro -->
    <div class="overlay overlay-boss" id="bossIntro" style="display:none">
      <h1 id="bossIntroTitle">[ INCOMING THREAT ]</h1>
      <p id="bossIntroName">BOSS INCOMING</p>
    </div>
  </div>

  <script type="module" src="./main.js"></script>
    
</body>
</html>
